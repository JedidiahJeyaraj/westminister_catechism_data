git clone https://maxprintpro@bitbucket.org/JedidiahJeyaraj/tool.git
welcome@123


CREATE TABLE `client` (
  `c_id` int(11) NOT NULL AUTO_INCREMENT,
  `c_name` text COLLATE utf8_bin NOT NULL,
  `c_email` varchar(2048) COLLATE utf8_bin NOT NULL,
  `c_phNo` varchar(10) COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`c_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

CREATE TABLE `functions` (
  `fun_id` int(11) NOT NULL AUTO_INCREMENT,
  `fun_name` varchar(100) COLLATE utf8_bin NOT NULL,
  `fun_desc` text COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`fun_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;


CREATE TABLE `order_assign_logs` (
  `oal_id` int(11) NOT NULL AUTO_INCREMENT,
  `order_id` varchar(110) COLLATE utf8_bin NOT NULL,
  `osl_revisionCycle` int(11) NOT NULL,
  `osl_assignedBy` varchar(10) COLLATE utf8_bin NOT NULL,
  `osl_assignedTo` varchar(10) COLLATE utf8_bin NOT NULL,
  `osl_assignedTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `osl_reason` text COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`oal_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;


CREATE TABLE `order_input_files` (
  `oif_orderId` varchar(100) COLLATE utf8_bin NOT NULL,
  `oif_fileName` text COLLATE utf8_bin NOT NULL,
  `oif_revison` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;




CREATE TABLE `order_lock_log` (
  `oll_orderId` varchar(110) COLLATE utf8_bin NOT NULL,
  `oll_lockedBy` varchar(11) COLLATE utf8_bin NOT NULL,
  `oll_Time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `oll_type` enum('lock','unlock') COLLATE utf8_bin NOT NULL,
  `oll_status` varchar(10) COLLATE utf8_bin NOT NULL,
  `oll_revision` int(11) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;





CREATE TABLE `order_revision_details` (
  `ord_id` int(11) NOT NULL AUTO_INCREMENT,
  `ord_revisionNo` int(11) NOT NULL,
  `ord_orderId` int(11) NOT NULL,
  `ord_changes` text COLLATE utf8_bin,
  `ord_submittedBy` int(11) NOT NULL,
  `ord_createtime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`ord_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;







CREATE TABLE `order_status_logs` (
  `osl_orderid` varchar(110) COLLATE utf8_bin NOT NULL,
  `osl_fromstatus` varchar(10) COLLATE utf8_bin NOT NULL,
  `osl_tostatus` varchar(10) COLLATE utf8_bin NOT NULL,
  `osl_updatetime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `osl_updatebyuser` varchar(11) COLLATE utf8_bin NOT NULL,
  `osl_reason` text COLLATE utf8_bin NOT NULL,
  `osl_revision` int(11) NOT NULL,
  `osl_comments` mediumtext COLLATE utf8_bin
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;





CREATE TABLE `orders_main` (
  `o_id` int(11) NOT NULL AUTO_INCREMENT,
  `o_jobNo` varchar(100) COLLATE utf8_bin DEFAULT NULL,
  `o_corporate` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_salesperson` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_pubTitle` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_site` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_element` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_submittedBy` varchar(10) COLLATE utf8_bin NOT NULL,
  `o_createTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `o_status` varchar(10) COLLATE utf8_bin NOT NULL DEFAULT 'C',
  `o_advertiser` text COLLATE utf8_bin NOT NULL,
  `o_designType` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_graphicDiscretion` text COLLATE utf8_bin,
  `o_jobType` text COLLATE utf8_bin,
  `o_delemail` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_ageNum` varchar(20) COLLATE utf8_bin NOT NULL,
  `o_measurementUnit` varchar(10) COLLATE utf8_bin NOT NULL,
  `o_measurementWidth` varchar(10) COLLATE utf8_bin NOT NULL,
  `o_measurementHeight` varchar(10) COLLATE utf8_bin NOT NULL,
  `o_presetSize` varchar(100) COLLATE utf8_bin NOT NULL,
  `o_deliveryDate` date NOT NULL,
  `o_proofDate` date NOT NULL,
  `o_runDate` date NOT NULL,
  `o_description` longtext COLLATE utf8_bin NOT NULL,
  `o_level` varchar(10) COLLATE utf8_bin DEFAULT NULL,
  `o_colorType` varchar(10) COLLATE utf8_bin DEFAULT NULL,
  `o_orderType` varchar(10) COLLATE utf8_bin DEFAULT NULL,
  `o_revisionCount` int(11) NOT NULL DEFAULT '0',
  `o_designTime` time(6) DEFAULT NULL,
  `o_proofReadTime` time(6) DEFAULT NULL,
  `o_qcTime` time(6) DEFAULT NULL,
  `o_lockStatus` enum('L','U') COLLATE utf8_bin NOT NULL DEFAULT 'U',
  `o_assignStatus` enum('A','U') COLLATE utf8_bin NOT NULL DEFAULT 'U',
  `o_lockedBy` varchar(10) COLLATE utf8_bin DEFAULT NULL,
  `o_assignedUser` varchar(11) COLLATE utf8_bin DEFAULT NULL,
  PRIMARY KEY (`o_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;



CREATE TABLE `roles` (
  `role_id` int(11) NOT NULL AUTO_INCREMENT,
  `role_name` varchar(100) COLLATE utf8_bin NOT NULL,
  `role_description` text COLLATE utf8_bin NOT NULL,
  `role_functions` varchar(1024) COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;






CREATE TABLE `status_def` (
  `s_id` varchar(10) COLLATE utf8_bin NOT NULL,
  `s_desc` varchar(2048) COLLATE utf8_bin NOT NULL,
  UNIQUE KEY `s_id` (`s_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;







CREATE TABLE `status_flow` (
  `sf_id` int(11) NOT NULL AUTO_INCREMENT,
  `sf_fromStatus` varchar(10) COLLATE utf8_bin NOT NULL,
  `sf_toStatus` varchar(10) COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`sf_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;




CREATE TABLE `users` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_empid` varchar(10) COLLATE utf8_bin DEFAULT NULL,
  `user_firstName` varchar(2048) COLLATE utf8_bin NOT NULL,
  `user_lastName` varchar(2048) COLLATE utf8_bin NOT NULL,
  `user_email` varchar(100) COLLATE utf8_bin NOT NULL,
  `user_password` text COLLATE utf8_bin NOT NULL,
  `user_active_status` enum('0','1') COLLATE utf8_bin NOT NULL DEFAULT '1',
  `user_role` int(11) NOT NULL,
  `user_functions` varchar(2048) COLLATE utf8_bin NOT NULL,
  `user_online` enum('0','1') COLLATE utf8_bin NOT NULL DEFAULT '0',
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `user_email` (`user_email`),
  UNIQUE KEY `user_empid` (`user_empid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;







INSERT INTO tool.roles (role_name,role_description,role_functions) VALUES
	 ('Admin','','1,2'),
	 ('CSE','',''),
	 ('Designer','','');


INSERT INTO tool.status_def (s_id,s_desc) VALUES
	 ('C','Compliance Check'),
	 ('CH','Compliance Check On Hold'),
	 ('CL','Clarification'),
	 ('D','Design'),
	 ('DH','Design On Hold'),
	 ('P','Proof Read'),
	 ('Q','Quality Check'),
	 ('RW','Re-Work'),
	 ('S','Submitted'),
	 ('SH','Shipment');
INSERT INTO tool.status_def (s_id,s_desc) VALUES
	 ('SS','Shipped');




INSERT INTO tool.status_flow (sf_fromStatus,sf_toStatus) VALUES
	 ('C','CH'),
	 ('C','D'),
	 ('CH','C'),
	 ('D','DH'),
	 ('D','Q'),
	 ('Q','D'),
	 ('Q','SH'),
	 ('SH','SS');

INSERT INTO tool.users (user_empid,user_firstName,user_lastName,user_email,user_password,user_active_status,user_role,user_functions,user_online) VALUES
	 ('MAX0001','Jedidiah','Jeyaraj','jedidiahjeyaraj@gmail.com','40be4e59b9a2a2b5dffb918c0e86b3d7','1',1,'1,2,3,4,5,6,7','0');
